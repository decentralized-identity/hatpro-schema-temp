{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Traveler Profile",
  "description": "A Decentralized Identity Foundation (DIF) schema for representing traveler profiles, designed to enhance personalization, privacy, and control over personal data in the travel industry.",
  "type": "object",
  "properties": {
    "dids": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "did": {
            "type": "string",
            "description": "Traveler's Decentralized Identifier (DID)"
          },
          "method": {
            "type": "string",
            "description": "The DID method used (e.g., 'did:nfid', 'did:web', 'did:ion', 'did:key')"
          }
        },
        "required": ["did", "method"]
      }
    }
  },

  "definitions": {
    "commonTravelPreferences": {
      "type": "object",
      "description": "Common travel preferences across multiple supplier types (extendable)",
      "allOf": [
        { "$ref": "#/definitions/commonTravelPreferences/definitions/base" },
        { "$ref": "#/definitions/commonTravelPreferences/definitions/extension" }
      ],
      "definitions": {
        "base": {
          "type": "object",
          "properties": {
            "gender": { "type": "string", "enum": ["male", "female", "other"] },
            "birthdate": { "type": "string", "format": "date" },
            "preferredLanguage": { "type": "string" },
            "nationality": { "type": "string" },
            "accessibilityNeeds": { "type": "string" },
            "dietaryRestrictions": { "type": "array", "items": { "type": "string" } },
            "smokingPreference": { "type": "string", "enum": ["smoking", "non-smoking"] },
            "petAllergies": { "type": "array", "items": { "type": "string" } },
            "rewardsPrograms": { "type": "array", "items": { "type": "string" } },
            "email": { "type": "string", "format": "email" },
            "telephone": { "type": "string" } 
          }
        },
        "extension": {
          "type": "object",
          "additionalProperties": true
        }
      }
    },

    "passportAndVisaInformation": {
    "type": "object",
    "description": "Metadata for verifiable credentials related to passports and visas (extendable)",
    "allOf": [
        { "$ref": "#/definitions/passportAndVisaInformation/definitions/base" },
        { "$ref": "#/definitions/passportAndVisaInformation/definitions/extension" }
    ],
    "definitions": {
        "base": {
            "type": "object",
            "properties": {
                "documentTypes": { 
                    "type": "array", 
                    "items": { 
                        "type": "string",
                        "enum": ["passport", "visa", "other"]  // Example, adjust as needed
                    },
                    "description": "Types of travel documents held (e.g., 'passport', 'visa')" 
                },
                "issuingCountry": { 
                    "type": "string", 
                    "description": "Country of origin for the passport or visa (ISO 3166-1 alpha-2 code)"
                },
                "expirationDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Expiration date of the passport or visa (YYYY-MM-DD)"
                }
            }
        },
        "extension": {
            "type": "object",
            "additionalProperties": true
        }
    }
},

"medicalInformation": {
  "type": "object",
  "description": "Medical information relevant to travel (potentially presented as VCs, extendable)",
  "allOf": [
    { "$ref": "#/definitions/medicalInformation/definitions/base" },
    { "$ref": "#/definitions/medicalInformation/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "allergies": { "type": "array", "items": { "type": "string" }, "description": "List of allergies (e.g., 'peanuts', 'penicillin')" },
        "medications": { "type": "array", "items": { "type": "string" }, "description": "List of current medications" },
        "medicalConditions": { "type": "array", "items": { "type": "string" }, "description": "List of existing medical conditions" },
        "bloodType": { "type": "string" },
        "emergencyContactName": { "type": "string" },
        "emergencyContactPhone": { "type": "string" },
        "insuranceProvider": { "type": "string" },
        "insurancePolicyNumber": { "type": "string" }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"activityPreferences": {
  "type": "object",
  "description": "Traveler's activity preferences (extendable)",
  "allOf": [
    { "$ref": "#/definitions/activityPreferences/definitions/base" },
    { "$ref": "#/definitions/activityPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredActivities": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred activity types (e.g., 'hiking', 'museums')"
        },
        "fitnessLevel": { 
          "type": "string", 
          "enum": ["low", "moderate", "high"], 
          "description": "Traveler's self-assessed fitness level" 
        },
        "interests": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of general interests (e.g., 'history', 'nature')" 
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"airPreferences": {
  "type": "object",
  "description": "Preferences specific to air travel (extendable)",
  "allOf": [
    { "$ref": "#/definitions/airPreferences/definitions/base" },
    { "$ref": "#/definitions/airPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredAirlines": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred airlines (e.g., 'United Airlines', 'Emirates')"
        },
        "seatPreferences": { 
          "type": "string",
          "enum": ["window", "aisle", "middle", "no preference"], // Example values
          "description": "Preferred seat location on the aircraft"
        },
        "frequentFlyerPrograms": { 
          "type": "array",
          "items": { "type": "object", 
                     "properties": {
                       "programName": { "type": "string" },
                       "membershipNumber": { "type": "string" }
                     }
          },
          "description": "List of frequent flyer programs the traveler is enrolled in"
        },
        "knownTravelerNumber": { 
          "type": "string", 
          "description": "Known Traveler Number (e.g., Global Entry, TSA PreCheck)"
        },
        "tsaPrecheck": { 
          "type": "boolean", 
          "description": "Whether the traveler has TSA PreCheck"
        },
        "preferredMealType": {
          "type": "string",
          "description": "Preferred meal type during flight (e.g., 'vegetarian', 'kosher', 'standard')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"lodgingPreferences": {
  "type": "object",
  "description": "Preferences specific to lodging (extendable)",
  "allOf": [
    { "$ref": "#/definitions/lodgingPreferences/definitions/base" },
    { "$ref": "#/definitions/lodgingPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredHotelChains": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred hotel chains" 
        },
        "roomType": { 
          "type": "string",
          "enum": ["single", "double", "suite", "other"], // Example values, adjust as needed
          "description": "Preferred room type"
        },
        "bedType": { 
          "type": "string", 
          "enum": ["king", "queen", "twin", "other"], // Example values, adjust as needed
          "description": "Preferred bed type"
        },
        "smokingPreference": {
          "type": "string",
          "enum": ["smoking", "non-smoking"],
          "description": "Smoking preference for the room"
        },
        "amenities": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "Desired amenities (e.g., 'pool', 'gym', 'free wifi')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"rentalCarPreferences": {
  "type": "object",
  "description": "Preferences specific to rental car services (extendable)",
  "allOf": [
    { "$ref": "#/definitions/rentalCarPreferences/definitions/base" },
    { "$ref": "#/definitions/rentalCarPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredCarRentalCompanies": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred rental car companies" 
        },
        "carType": { 
          "type": "string", 
          "enum": ["economy", "compact", "mid-size", "standard", "full-size", "premium", "luxury", "SUV", "minivan", "convertible", "pickup truck"], // Example values
          "description": "Preferred car type"
        },
        "driverLicenseNumber": { "type": "string", "description": "Driver's license number" },
        "loyaltyPrograms": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "programName": { "type": "string" },
              "membershipNumber": { "type": "string" }
            }
          },
          "description": "Car rental loyalty programs and their membership numbers"
        },
        "insuranceCoverage": { "type": "boolean", "description": "Whether additional insurance coverage is desired" },
        "pickupLocation": { "type": "string", "description": "Preferred rental car pickup location" },
        "dropOffLocation": { "type": "string", "description": "Preferred rental car drop-off location" }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"trainPreferences": {
  "type": "object",
  "description": "Preferences specific to train travel (extendable)",
  "allOf": [
    { "$ref": "#/definitions/trainPreferences/definitions/base" },
    { "$ref": "#/definitions/trainPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        // Placeholder for future train preferences
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"busPreferences": {
  "type": "object",
  "description": "Preferences specific to bus travel (extendable)",
  "allOf": [
    { "$ref": "#/definitions/busPreferences/definitions/base" },
    { "$ref": "#/definitions/busPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredBusCompanies": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred bus companies"
        },
        "seatPreferences": {
          "type": "string", 
          "enum": ["window", "aisle", "no preference"], // Example values
          "description": "Preferred seat location on the bus"
        },
        "amenities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Desired amenities (e.g., 'wifi', 'toilet', 'charging outlets')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"ferryPreferences": {
  "type": "object",
  "description": "Preferences specific to ferry travel (extendable)",
  "allOf": [
    { "$ref": "#/definitions/ferryPreferences/definitions/base" },
    { "$ref": "#/definitions/ferryPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredFerryCompanies": { 
          "type": "array", 
          "items": { "type": "string" }, 
          "description": "List of preferred ferry companies"
        },
        "cabinType": { 
          "type": "string",
          "enum": ["standard", "deluxe", "suite", "no preference"], // Example values
          "description": "Preferred cabin type (if applicable)"
        },
        "amenities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Desired amenities (e.g., 'wifi', 'restaurant', 'deck access')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"cruisePreferences": {
  "type": "object",
  "description": "Preferences specific to cruises (extendable)",
  "allOf": [
    { "$ref": "#/definitions/cruisePreferences/definitions/base" },
    { "$ref": "#/definitions/cruisePreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredCruiseLines": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred cruise lines"
        },
        "cabinType": {
          "type": "string",
          "enum": ["inside", "oceanview", "balcony", "suite"], // Example values
          "description": "Preferred cabin type"
        },
        "diningPreferences": {
          "type": "string",
          "enum": ["early seating", "late seating", "flexible"], // Example values
          "description": "Preferred dining time"
        },
        "onboardActivities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred onboard activities (e.g., 'shows', 'casino', 'spa')"
        },
        "shoreExcursions": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Interests in specific types of shore excursions (e.g., 'historical', 'adventure', 'cultural')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"loungePreferences": {
  "type": "object",
  "description": "Preferences specific to airport lounges (extendable)",
  "allOf": [
    { "$ref": "#/definitions/loungePreferences/definitions/base" },
    { "$ref": "#/definitions/loungePreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredLoungeNetworks": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred lounge networks (e.g., 'Priority Pass', 'LoungeKey')"
        },
        "membershipPrograms": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "programName": { "type": "string" },
              "membershipNumber": { "type": "string" }
            }
          },
          "description": "Lounge membership programs and their membership numbers"
        },
        "amenities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Desired lounge amenities (e.g., 'shower', 'quiet area', 'premium food')"
        },
        "visitFrequency": {
          "type": "string",
          "enum": ["frequent", "occasional", "rare"],
          "description": "How often the traveler typically uses airport lounges"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"orvNonMotorizedPreferences": {
  "type": "object",
  "description": "Preferences for non-motorized off-road vehicles (extendable)",
  "allOf": [
    { "$ref": "#/definitions/orvNonMotorizedPreferences/definitions/base" },
    { "$ref": "#/definitions/orvNonMotorizedPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredOrvTypes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred non-motorized ORV types (e.g., 'bicycle', 'mountain bike', 'scooter')"
        },
        "terrainPreferences": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred terrains for ORV activities (e.g., 'mountainous', 'forest trails', 'urban')"
        },
        "rentalPreferences": {
          "type": "object",
          "properties": {
            "preferredRentalCompanies": { "type": "array", "items": { "type": "string" } },
            "helmetRequired": { "type": "boolean" },
            "additionalGear": { "type": "array", "items": { "type": "string" } } 
          }
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"orvMotorizedPreferences": {
  "type": "object",
  "description": "Preferences for motorized off-road vehicles (extendable)",
  "allOf": [
    { "$ref": "#/definitions/orvMotorizedPreferences/definitions/base" },
    { "$ref": "#/definitions/orvMotorizedPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredOrvTypes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred motorized ORV types (e.g., 'ATV', 'UTV', 'snowmobile')"
        },
        "terrainPreferences": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred terrains for ORV activities (e.g., 'desert', 'snow', 'mud')"
        },
        "rentalPreferences": {
          "type": "object",
          "properties": {
            "preferredRentalCompanies": { "type": "array", "items": { "type": "string" } },
            "licenseRequired": { "type": "boolean" },
            "experienceLevel": { "type": "string", "enum": ["beginner", "intermediate", "advanced"] }
          }
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"taxiPreferences": {
  "type": "object",
  "description": "Preferences specific to taxi and ride-hailing services (extendable)",
  "allOf": [
    { "$ref": "#/definitions/taxiPreferences/definitions/base" },
    { "$ref": "#/definitions/taxiPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredTaxiCompanies": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred taxi or ride-hailing companies (e.g., 'Uber', 'Lyft')"
        },
        "vehicleType": {
          "type": "string",
          "description": "Preferred vehicle type (e.g., 'standard', 'luxury', 'accessible')"
        },
        "paymentMethods": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred payment methods (e.g., 'credit card', 'cash', 'app')"
        },
        "additionalServices": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Additional services required (e.g., 'child seat', 'pet-friendly')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"autoVehPreferences": {
  "type": "object",
  "description": "Preferences specific to autonomous vehicles (extendable)",
  "allOf": [
    { "$ref": "#/definitions/autoVehPreferences/definitions/base" },
    { "$ref": "#/definitions/autoVehPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredAutoVehCompanies": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred autonomous vehicle companies"
        },
        "vehicleType": {
          "type": "string",
          "description": "Preferred vehicle type (e.g., 'sedan', 'SUV', 'shared')"
        },
        "paymentMethods": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred payment methods (e.g., 'credit card', 'app')"
        },
        "additionalServices": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Additional services required (e.g., 'entertainment system', 'wifi')"
        },
        "comfortLevel": {
          "type": "string",
          "enum": ["relaxed", "standard", "sporty"],
          "description": "Preferred driving style or comfort level"
        },
        "safetyFeatures": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Specific safety features desired (e.g., 'emergency braking', 'lane departure warning')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"rvPreferences": {
  "type": "object",
  "description": "Preferences specific to recreational vehicle (RV) rentals and travel (extendable)",
  "allOf": [
    { "$ref": "#/definitions/rvPreferences/definitions/base" },
    { "$ref": "#/definitions/rvPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredRvRentalCompanies": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred RV rental companies"
        },
        "rvType": {
          "type": "string",
          "enum": ["Class A", "Class B", "Class C", "Fifth Wheel", "Travel Trailer", "Pop-Up Camper"], // Example values
          "description": "Preferred RV type"
        },
        "sleepingCapacity": {
          "type": "number",
          "minimum": 1,
          "description": "Minimum required sleeping capacity"
        },
        "amenities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Desired amenities in the RV (e.g., 'shower', 'toilet', 'kitchen')"
        },
        "drivingExperience": {
          "type": "string",
          "enum": ["novice", "some experience", "experienced"],
          "description": "Traveler's experience level with driving RVs"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"boatRentalPreferences": {
  "type": "object",
  "description": "Preferences specific to boat rentals (extendable)",
  "allOf": [
    { "$ref": "#/definitions/boatRentalPreferences/definitions/base" },
    { "$ref": "#/definitions/boatRentalPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredBoatRentalCompanies": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred boat rental companies"
        },
        "boatType": {
          "type": "string",
          "enum": ["sailboat", "motorboat", "yacht", "catamaran", "pontoon", "other"], // Example values
          "description": "Preferred boat type"
        },
        "boatSize": {
          "type": "string",
          "description": "Preferred boat size (e.g., 'small', 'medium', 'large')"
        },
        "amenities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Desired amenities (e.g., 'bathroom', 'kitchenette', 'fishing gear')"
        },
        "boatingLicense": {
          "type": "boolean",
          "description": "Whether the traveler holds a valid boating license"
        },
        "experienceLevel": {
          "type": "string",
          "enum": ["beginner", "intermediate", "advanced"],
          "description": "Traveler's experience level with boating"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"restaurantPreferences": {
  "type": "object",
  "description": "Preferences for restaurants (extendable)",
  "allOf": [
    { "$ref": "#/definitions/restaurantPreferences/definitions/base" },
    { "$ref": "#/definitions/restaurantPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredCuisines": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred cuisines (e.g., 'Italian', 'Japanese', 'Mexican')"
        },
        "priceRange": {
          "type": "string",
          "enum": ["$", "$$", "$$$", "$$$$"], // Example values
          "description": "Preferred price range"
        },
        "dietaryRestrictions": { // Can reference the commonTravelPreferences if desired
          "type": "array",
          "items": { "type": "string" },
          "description": "Dietary restrictions (e.g., 'vegetarian', 'gluten-free', 'halal')"
        },
        "atmosphere": {
          "type": "string",
          "enum": ["casual", "fine dining", "romantic", "family-friendly", "lively"], // Example values
          "description": "Preferred restaurant atmosphere"
        },
        "occasion": {
          "type": "string",
          "description": "Type of occasion for the dining experience (e.g., 'business lunch', 'romantic dinner', 'family meal')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"staticVenuesPreferences": {
  "type": "object",
  "description": "Preferences specific to static venues (e.g., attractions, events, bars, nightclubs) (extendable)",
  "allOf": [
    { "$ref": "#/definitions/staticVenuesPreferences/definitions/base" },
    { "$ref": "#/definitions/staticVenuesPreferences/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "venueTypes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred venue types (e.g., 'museum', 'concert hall', 'sports arena')"
        },
        "atmosphere": { 
          "type": "string",
          "enum": ["casual", "formal", "lively", "quiet", "family-friendly", "adult-only"], // Example values
          "description": "Preferred venue atmosphere"
        },
        "interests": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Interests related to specific venues (e.g., 'art', 'music', 'sports')"
        },
        "accessibilityNeeds": { // Reference to commonTravelPreferences
          "type": "string", 
          "description": "Accessibility needs for the venue (e.g., 'wheelchair accessible', 'sign language interpretation')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"thingsToDoAll": {
  "type": "object",
  "description": "Preferences common to all 'Things to Do' activities (extendable)",
  "allOf": [
    { "$ref": "#/definitions/thingsToDoAll/definitions/base" },
    { "$ref": "#/definitions/thingsToDoAll/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "groupSize": {
          "type": "number",
          "minimum": 1,
          "description": "Number of people participating in the activity"
        },
        "budget": {
          "type": "string",
          "enum": ["$", "$$", "$$$", "$$$$"],
          "description": "Budget for the activity"
        },
        "timeOfDay": {
          "type": "string",
          "enum": ["morning", "afternoon", "evening"],
          "description": "Preferred time of day for the activity"
        },
        "accessibilityNeeds": { // Reference to commonTravelPreferences
          "type": "string",
          "description": "Accessibility needs for the activity (e.g., wheelchair accessible, audio description)"
        },
        "interests": { // Reference to commonTravelPreferences
          "type": "array",
          "items": { "type": "string" },
          "description": "General interests related to activities (e.g., 'history', 'nature')"
        },
        "duration": {
          "type": "string",
          "enum": ["short", "medium", "long"],
          "description": "Preferred duration of the activity"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"thingsToDoSpa": {
  "type": "object",
  "description": "Preferences specific to spa services (extendable)",
  "allOf": [
    { "$ref": "#/definitions/thingsToDoSpa/definitions/base" },
    { "$ref": "#/definitions/thingsToDoSpa/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "preferredSpaTypes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred spa types (e.g., 'day spa', 'hotel spa', 'medical spa')"
        },
        "treatmentPreferences": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred spa treatments (e.g., 'massage', 'facial', 'body wrap')"
        },
        "preferredTherapistGender": {
          "type": "string",
          "enum": ["male", "female", "no preference"], 
          "description": "Preferred gender of therapist"
        },
        "atmosphere": {
          "type": "string",
          "enum": ["relaxing", "rejuvenating", "therapeutic", "luxury", "no preference"], // Example values
          "description": "Preferred spa atmosphere"
        },
        "budget": { // Can be reference from "thingsToDoAll" if applicable
          "type": "string",
          "enum": ["$", "$$", "$$$", "$$$$"],
          "description": "Budget for spa services"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"thingsToDoSightseeingTour": {
  "type": "object",
  "description": "Preferences specific to sightseeing tours (extendable)",
  "allOf": [
    { "$ref": "#/definitions/thingsToDoSightseeingTour/definitions/base" },
    { "$ref": "#/definitions/thingsToDoSightseeingTour/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "tourTypes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred tour types (e.g., 'walking tour', 'bus tour', 'boat tour', 'private tour')"
        },
        "themes": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred themes or interests (e.g., 'historical', 'cultural', 'food and drink', 'nature')"
        },
        "duration": {  // Can reference "thingsToDoAll" if applicable
          "type": "string",
          "enum": ["short", "medium", "long"],
          "description": "Preferred tour duration"
        },
        "groupSize": {  // Can reference "thingsToDoAll" if applicable
          "type": "number",
          "minimum": 1,
          "description": "Preferred group size for the tour"
        },
        "language": { // Can reference "commonTravelPreferences"
          "type": "string",
          "description": "Preferred language for the tour guide"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

"thingsToDoSkiing": {
  "type": "object",
  "description": "Preferences specific to skiing activities (extendable)",
  "allOf": [
    { "$ref": "#/definitions/thingsToDoSkiing/definitions/base" },
    { "$ref": "#/definitions/thingsToDoSkiing/definitions/extension" }
  ],
  "definitions": {
    "base": {
      "type": "object",
      "properties": {
        "resortPreferences": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of preferred ski resorts or regions"
        },
        "skillLevel": {
          "type": "string",
          "enum": ["beginner", "intermediate", "advanced", "expert"],
          "description": "Traveler's self-assessed skiing skill level"
        },
        "preferredTerrain": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred types of ski terrain (e.g., 'groomed runs', 'moguls', 'off-piste', 'terrain parks')"
        },
        "lessonInterest": {
          "type": "boolean",
          "description": "Whether the traveler is interested in taking ski lessons"
        },
        "equipmentRental": {
          "type": "boolean",
          "description": "Whether the traveler needs to rent ski equipment"
        },
        "apresSkiActivities": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Preferred après-ski activities (e.g., 'fine dining', 'bars', 'relaxation')"
        }
      }
    },
    "extension": {
      "type": "object",
      "additionalProperties": true
    }
  }
},

// Vendor-Specific Extensions
"vendorExtension": {
  "type": "object",
  "description": "Additional properties can be defined here by vendors to address their specific needs. Vendors are encouraged to use standard data types and formats where possible.",
  "additionalProperties": true
}
  }, // End of definitions
  "allOf": [
    { "$ref": "#/definitions/commonTravelPreferences" },
    { "$ref": "#/definitions/passportAndVisaInformation" },
    { "$ref": "#/definitions/medicalInformation" },
    { "$ref": "#/definitions/activityPreferences" },
    { "$ref": "#/definitions/airPreferences" },
    { "$ref": "#/definitions/lodgingPreferences" },
    { "$ref": "#/definitions/rentalCarPreferences" },
    { "$ref": "#/definitions/trainPreferences" },
    { "$ref": "#/definitions/busPreferences" },
    { "$ref": "#/definitions/ferryPreferences" },
    { "$ref": "#/definitions/cruisePreferences" },
    { "$ref": "#/definitions/loungePreferences" },
    { "$ref": "#/definitions/orvNonMotorizedPreferences" },
    { "$ref": "#/definitions/orvMotorizedPreferences" },
    { "$ref": "#/definitions/taxiPreferences" },
    { "$ref": "#/definitions/autoVehPreferences" },
    { "$ref": "#/definitions/rvPreferences" },
    { "$ref": "#/definitions/boatRentalPreferences" },
    { "$ref": "#/definitions/restaurantPreferences" },
    { "$ref": "#/definitions/staticVenuesPreferences" },
    { "$ref": "#/definitions/thingsToDoAll" },
    { "$ref": "#/definitions/thingsToDoSpa" },
    { "$ref": "#/definitions/thingsToDoSightseeingTour" },
    { "$ref": "#/definitions/thingsToDoSkiing" }
  ] 
}
