Name: ci
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
steps:
  - uses: actions/checkout@v4

  - name: Use Node.js 20
    uses: actions/setup-node@v4
    with:
      node-version: '20'
      cache: 'npm'

  - name: Install deps
    run: npm ci

  - name: Generate schemas
    run: node tools/generate-json-from-puml.mjs

  - name: Validate samples
    run: node tools/validate-with-ajc.mjs
